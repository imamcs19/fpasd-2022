{% extends "extends/base.html" %}
{% block title %}
    <title>FGA Big Data Using Python</title>
{% endblock title %}
{{ self.title() }}
    Home
{{ self.title() }}
<button onclick="window.location.href='/'" class="btn btn-outline btn-rounded btn-info">
    <i class="ti-arrow-left m-l-5"></i>
    <span>Back Home</span>
</button> Project 1

{{ self.title() }}
    Project 1

{% block content %}


<div class="card card-default">
    <div class="card-body">
        <form id="main_form" enctype="multipart/form-data" action="{{ url_for('bdc') }}" method="post" novalidate="novalidate">
            <div class="form-group">
                <h1 style="line-height:1.2;margin-top:0pt;margin-bottom:0pt;">
                    <span style="font-size: 36pt; font-family: Roboto; color: rgb(53, 55, 68); background-color: transparent; font-weight: 700; font-style: normal; font-variant: normal;">
                        Cover Big Data Challenge (BDC)
                    </span>
                </h1>

                <h3 style="line-height:1.56;text-align: justify;margin-top:10pt;margin-bottom:0pt;">
                    <span style="font-family: Roboto;">Data train</span>
                </h3>
                <p dir="ltr" style="line-height:1.56;text-align: justify;margin-top:10pt;margin-bottom:0pt;">
                    <span style="font-family: Roboto;">&nbsp;File train.csv berisi kolom-kolom dengan penjelasan sebagai berikut</span>
                </p>
                <table class="table table-bordered">
                    <tbody><tr><td><b>Nomor</b></td><td>:</td><td><span style="font-family: Roboto; text-align: justify;">nama folder yang ada di dalam folder <b>Training</b></span><br></td></tr><tr><td><b>jenis kelamin</b></td><td>:</td><td><span style="font-family: Roboto; text-align: justify;">berisi nilai 0 dan 1, dengan <b>kode 1</b> menyatakan <b>Laki-laki/Pria</b>&nbsp; dan <b>0</b> menyatakan <b>Perempuan/Wanita</b></span><br></td></tr><tr><td><b>Usia</b></td><td>:</td><td><span style="font-family: Roboto; text-align: justify;">berisi usia seseorang&nbsp;</span><br></td></tr></tbody></table><p dir="ltr" style="line-height:1.56;text-align: justify;margin-top:10pt;margin-bottom:0pt;"><span style="font-family: Roboto;">File data train ini berisi data sebanyak <b>2310</b>.</span></p>

                <h3 style="line-height:1.56;text-align: justify;margin-top:10pt;margin-bottom:0pt;">
                <span style="font-family: Roboto;">Data test</span>
                </h3>
                <p dir="ltr" style="line-height:1.56;text-align: justify;margin-top:10pt;margin-bottom:0pt;">
                    <span style="font-family: Roboto;">Pada data <b>Testing</b> diberikan <b>990 file gambar.</span>
                </p>

                <h3 style="line-height:1.56;text-align: justify;margin-top:10pt;margin-bottom:0pt;">
                    <span style="font-family: Roboto;">Petunjuk submission</span>
                </h3>
                <p dir="ltr" style="line-height:1.56;text-align: justify;margin-top:10pt;margin-bottom:0pt;"><span style="font-family: Roboto;">Buat file submission.csv berisi <b>satu kolom</b> yaitu <b>id</b>. Kolom ini berikut <b>nama file gambar</b> yang ada di dalam <b>folder Testing</b>. File ini digunakan untuk dijadikan sebagai<b> template submit</b> hasil prediksi ke <b>web</b> dengan menambah satu kolom yaitu <b>jenis kelamin</b> (harus dalam bentuk 0 dan 1).</span></p>
            </div>
            <div class="form-group">
                <label class="control-label d-block">Dataset :</label>
                <br>
                <a class="btn btn-success" target="_blank" style="min-width: 200px" href="https://drive.google.com/drive/folders/1eGNschGHjtqN7Fq2VHtUjldXAfNyZrmg?usp=sharing">Buka&nbsp;&nbsp;<i class="fa fa-arrow-right"></i></a>
            </div>
            <div class="form-group">
                <label class="control-label d-block harus">Jawaban</label>
                <input name="SoalId" type="hidden" data-val="true" data-val-required="The Id field is required." id="Id" value="1">
                <input type="file" name="FileJawaban" class="d-block" accept=".csv" required="">
            </div>
            <div class="form-group">
                <a onclick="KonfirmasiSubmit()" class="btn btn-flat btn-primary" style="min-width: 200px"><i class="fa fa-check"></i> Kirim</a>
            </div>
        <input name="__myRequestVerificationToken" type="hidden" value="codeCoVeRBDC2021"></form>
    </div>
</div>
<div class="card card-default">
    <div class="card-header">
        <h5>
            <b>
                List Hasil Upload BDC
            </b>
        </h5>
    </div>
    <div class="card-body">
            <div class="row">
                <div class="col-sm-12">
                    <div class="table-responsive">
                        <table class="table dataTable no-footer" id="main_table2" role="grid" aria-describedby="main_table2_info">
                            <thead>
                                <tr role="row">
                                    <th class="nosort sorting_disabled" rowspan="1" colspan="1" aria-label="
                                        No
                                    " style="width: 45.9375px;">
                                        No
                                    </th>
                                    <th class="sorting" tabindex="0" aria-controls="main_table2" rowspan="1" colspan="1" aria-label="
                                        Nama Anggota/Kode Kelompok
                                    : activate to sort column ascending" style="width: 203.781px;">
                                        Nama Anggota/Kode Kelompok
                                    </th>
                                    <th class="sorting_desc" tabindex="0" aria-controls="main_table2" rowspan="1" colspan="1" aria-label="
                                        Skor
                                    : activate to sort column ascending" aria-sort="descending" style="width: 77.6562px;">
                                        Skor
                                    </th>
                                    <th class="sorting" tabindex="0" aria-controls="main_table2" rowspan="1" colspan="1" aria-label="
                                        Waktu Unggah
                                    : activate to sort column ascending" style="width: 189.469px;">
                                        Waktu Unggah
                                    </th>
                                    <th class="sorting" tabindex="0" aria-controls="main_table2" rowspan="1" colspan="1" aria-label="

                                    : activate to sort column ascending" style="width: 189.469px;">

                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in header %}
                                <tr class={{ loop.cycle('odd', 'even') }} role="row">
                                    <td>{{ loop.index }}</td>
                                    <td class="">{{item[0]}}</td>
                                    <td class="sorting_1">{{'%0.4f'|format(item[1]|float)}}</td>
                                    <td class="">{{item[2]}}</td>

                                    <td>
                                        <div class="btn-group btn-group-xs" role="group">
                                            {% if(session['name']=='Imam Cholissodin') %}
                                            <a href="/dw_bdc/?name={{item[0]}}">
                                        	<button type="submit" class="btn btn-secondary footable-edit">
                                        		<span class="fas fa-download" aria-hidden="true">
                                        		</span>
                                        	</button>
                                        	</a>
                                        	{% endif %}

                                        	<a href="/del_bdc/?name={{item[0]}}">
                                        	<button type="submit" class="btn btn-secondary footable-delete">
                                        		<span class="fas fa-trash-alt" aria-hidden="true" style="color:red">
                                        		</span>
                                        	</button>
                                            </a>
                                        </div>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="w-100 text-right mt-4">
            <a class="btn btn-flat btn-default" href="https://imamcs.pythonanywhere.com"><i class="fa fa-arrow-left"></i> Kembali</a>
        </div>
    </div>
</div>


<!-- ./wrapper -->
<!-- REQUIRED SCRIPTS -->
<!-- jQuery -->
<script type="text/javascript" src="{{ url_for('static', filename = 'js/jquery.min.js.download') }}"></script>
<!-- Bootstrap 4 -->
<script type="text/javascript" src="{{ url_for('static', filename = 'js/bootstrap.bundle.min.js.download') }}"></script>
<!-- AdminLTE App -->
<script type="text/javascript" src="{{ url_for('static', filename = 'js/adminlte.min.js.download') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename = 'js/sweetalert2-9.10.12.min.js.download') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename = 'js/site.js.download') }}"></script>


<script type="text/javascript" src="{{ url_for('static', filename = 'js/jquery.validate.min.js.download') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename = 'js/jquery.validate.unobtrusive.min.js.download') }}"></script>
<script>
    $("#main_form").validate();
</script>

<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename = 'css/dataTables.bootstrap4.min.css') }}" />
<script type="text/javascript" src="{{ url_for('static', filename = 'js/jquery.dataTables.min.js.download') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename = 'js/dataTables.bootstrap4.min.js.download') }}"></script>

<script>
    var table = null;
    setDatatables("#main_table");

    function setDatatables(element, sortCol, direction) {
        sortCol = sortCol || 1;
        direction = direction || "asc";
        table = $(element).DataTable({
            "columnDefs": [{
                "searchable": false,
                "orderable": false,
                "targets": 0
            }, {
                "searchable": false,
                "orderable": false,
                "targets": "nosort"
            }],
            "order": [[sortCol, direction]]
        });

        table.on('order.dt search.dt', function () {
            table.column(0, { search: 'applied', order: 'applied' }).nodes().each(function (cell, i) {
                cell.innerHTML = i + 1;
            });
        }).draw();

        $(element).wrap("<div class='table-responsive'></div>");
    }

    function SetDatatablesServerSide(el, filterClass, callback) {
        $(document).ready(function () {
            table = $(el).dataTable({
                "aaSorting": [1],
                "bServerSide": true,
                "bStateSave": true,
                "sAjaxSource": "/Lomba/BDC/DataTable",
                "bProcessing": true,
                "aoColumnDefs": [{ "bSortable": false, "aTargets": "nosort" }],
                fnServerParams: callback
                //fnServerParams: function (aoData) {
                //    //this function is called each time fnServerParams sends data to server
                //    filter.forEach(function(item, index) {
                //        aoData.push(item);
                //    });
                //    //aoData.push({ "name": "Tahun", "value": $('#Tahun').val() });
                //    //aoData.push({ "name": "UnitId", "value": $('#UnitId').val() });
                //    //aoData.push({ "name": "PegawaiId", "value": $('#PegawaiId').val() });
                //}
            });
            $(el).css("width", "100%");
            $(el).wrap("<div class='table-responsive'></div>");

            if (filterClass != undefined) {
                $(`.${filterClass}`).change(function() {
                    table.fnDraw();
                });
            }
        });
    }
</script>

<script type="text/javascript" src="{{ url_for('static', filename = 'js/jquery.form.min.js.download') }}"></script>
<script>
    function SetJqueryForm(idForm) {
        idForm = idForm || "main_form";
        $("#" + idForm).ajaxForm({
            beforeSubmit: function () {
                ShowLoading();
            },
            success: function (res) {
                if (res.status) {
                    window.onbeforeunload = function () {
                    }
                    if (res.url !== "" && res.url !== null) {
                        location.replace(res.url);
                    } else {
                        location.reload();
                    }
                } else {
                    ShowError(res.message);
                }
            },
            error: function (a, b, c) {
                ShowError(b);
            }
        });
    }

    function SetJqueryFormNoRedirect(idForm, idModal) {
        idForm = idForm || "main_form";
        idModal = idModal || "main_modal";
        $("#" + idForm).ajaxForm({
            beforeSubmit: function () {
                ShowLoading();
            },
            success: function (res) {
                if (res.status) {
                    window.onbeforeunload = function () {
                    }
                    $("#" + idModal).modal("hide");
                    ShowSuccess(res.message);
                } else {
                    ShowError(res.message);
                }
            },
            error: function (a, b, c) {
                ShowError(b);
            }
        });
    }
</script>
<script>
    setDatatables("#main_table2", 4, "desc");

    SetJqueryForm();
</script>


{% endblock content %}